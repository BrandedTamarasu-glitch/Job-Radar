# Milestone v1.2.0: Enhanced Sources & Onboarding

**Status:** ✅ SHIPPED 2026-02-10
**Phases:** 12-15
**Total Plans:** 9

## Overview

Expand job source coverage with Adzuna, Authentic Jobs, and Wellfound while reducing onboarding friction through PDF resume import.

## Phases

### Phase 12: API Foundation

**Goal**: Job source APIs can be integrated securely without rate limiting failures or credential exposure
**Depends on**: Phase 11
**Requirements**: API-04, API-05
**Plans**: 2 plans

**Success Criteria:**
1. API keys are loaded from .env file using python-dotenv (never hardcoded in source)
2. Rate limiting infrastructure prevents 429 errors across all API sources
3. Missing API keys degrade gracefully (skip source, log warning, don't crash)
4. .env.example template documents required keys for Adzuna and Authentic Jobs

Plans:
- [x] 12-01 — Credential management (api_config.py) and rate limiting infrastructure (rate_limits.py)
- [x] 12-02 — CLI integration (--setup-apis, --test-apis), main() wiring, and test coverage

### Phase 13: Job Source APIs

**Goal**: Users receive job listings from Adzuna and Authentic Jobs in their search results
**Depends on**: Phase 12
**Requirements**: API-01, API-02, API-06, API-07
**Plans**: 3 plans

**Success Criteria:**
1. Adzuna jobs appear in search results with title, company, location, URL, and salary data
2. Authentic Jobs listings appear in search results with design/creative roles
3. API response failures (network errors, 500s) show other source results and log error
4. API data maps correctly to JobResult format (compatible with existing scoring/tracking/reporting)
5. Deduplication works across Adzuna, Authentic Jobs, and existing sources

Plans:
- [x] 13-01-PLAN.md — Schema extension (JobResult salary fields), text utilities (HTML stripping, location parsing), deduplication module (rapidfuzz)
- [x] 13-02-PLAN.md — Adzuna and Authentic Jobs API fetchers with mapper functions, pipeline integration (sequential scraper-then-API flow, deduplication)
- [x] 13-03-PLAN.md — Comprehensive test coverage for API mappers, text utilities, deduplication, error handling, and pipeline integration

### Phase 14: Wellfound URLs

**Goal**: Users can manually browse Wellfound startup jobs through generated search URLs
**Depends on**: Phase 13
**Requirements**: API-03
**Plans**: 1 plan

**Success Criteria:**
1. User sees Wellfound search URL generated with their query and location
2. URL opens valid Wellfound search results page
3. Manual URL workflow documented in output (like existing Indeed/LinkedIn pattern)

Plans:
- [x] 14-01-PLAN.md — Wellfound URL generator, manual URL integration, and test coverage

### Phase 15: PDF Resume Parser

**Goal**: Users can upload PDF resume during wizard setup to pre-fill profile fields
**Depends on**: Phase 13 (infrastructure stable)
**Requirements**: PDF-01, PDF-02, PDF-03, PDF-04, PDF-05, PDF-06, PDF-07, PDF-08, PDF-09, PDF-10
**Plans**: 3 plans

**Success Criteria:**
1. User can select PDF file during wizard first-run setup
2. System validates PDF is text-extractable and rejects image-only PDFs with clear error message
3. Wizard prompts show extracted name, years of experience, job titles, and skills as default values
4. User can edit any pre-filled field before saving to profile.json
5. User sees accuracy disclaimer "Please review - extraction may contain errors"
6. User can skip PDF import and fill wizard manually without errors
7. Non-ASCII characters in names (accents, UTF-8) display correctly without crashes
8. PyInstaller executables include pdfplumber dependencies and work on clean systems

Plans:
- [x] 15-01-PLAN.md — PDF parser module (pdf_parser.py) with validation and extraction, dependency updates (pyproject.toml, job-radar.spec)
- [x] 15-02-PLAN.md — Wizard integration (wizard.py PDF upload choice, pre-fill defaults, disclaimer, error fallback)
- [x] 15-03-PLAN.md — Comprehensive test coverage (test_pdf_parser.py, test_wizard.py PDF integration tests)

---

## Milestone Summary

**Key Decisions:**
- Phase 12-01: .env file with python-dotenv for API credentials (standard pattern for sensitive config)
- Phase 12-01: SQLite with pyrate-limiter for rate limiting (persists across restarts, no external deps)
- Phase 12-01: Non-blocking rate limit checks (return False immediately when limited, don't wait)
- Phase 12-02: Questionary for API setup wizard (match existing wizard.py pattern for consistency)
- Phase 12-02: Atomic .env writes with tempfile + rename (ensures .env never partially written on crash)
- Phase 13-01: rapidfuzz token_sort_ratio for title/company matching (word-order independent fuzzy matching)
- Phase 13-01: Bucketing by company first word in deduplication (reduces O(N²) to O(N*B) comparisons)
- Phase 13-01: Optional salary fields at END of JobResult (backward compatible with existing code)
- Phase 13-02: Sequential scraper-then-API fetch flow (scrapers first, APIs supplement results)
- Phase 13-02: Strict mapper validation (skip jobs missing required fields)
- Phase 13-02: Per-source mapper functions (clear separation of concerns)
- Phase 13-03: Parametrized location parsing tests (11 test cases in single test function)
- Phase 13-03: Helper function pattern for test JobResult creation (_make_job() reduces boilerplate)
- Phase 14-01: Wellfound as first manual source (startup-focused platform merits top positioning)
- Phase 14-01: No URL encoding for Wellfound slugs (uses raw hyphenated path segments)
- Phase 14-01: Case-insensitive remote detection (detects "remote" in location string)
- Phase 14-01: No HEAD request validation for Wellfound (bot protection returns 403, URLs work for users)
- Phase 15-01: Conditional import with PDF_SUPPORT flag (prevents wizard crash when pdfplumber missing)
- Phase 15-01: Heuristic parsing over strict regex (resume formats vary; user validates in wizard)
- Phase 15-01: Partial success strategy (include only successful extractions, empty dict if all fail)
- Phase 15-01: Unicode normalization (NFKC) for international names (UTF-8 support)

**Issues Resolved:**
- API credential security (no hardcoded keys, .env gitignored)
- Rate limiting prevents API bans (persistent SQLite state)
- Cross-source duplicate jobs (fuzzy deduplication with 85% threshold)
- PDF parsing crashes when pdfplumber unavailable (conditional import pattern)
- PyInstaller missing pdfplumber dependencies (hidden imports configured)

**Technical Debt:**
None identified during this milestone.

---

_For current project status, see .planning/ROADMAP.md_

---

*Archived: 2026-02-10 as part of v1.2.0 milestone completion*
